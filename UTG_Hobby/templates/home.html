{% extends "base.html" %}
{% load static %}
{% block title %}Home{% endblock %}
{% block content %}

<link href="https://fonts.googleapis.com/css?family=Sansita" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">

{% comment %} <style>
    .img-wrap {
        position: relative;
      }
      
      .img-wrap img {
        display: block;
        max-width: 100%;
        height: 600px;
        width:400px;
        border-radius: 8px; /* Optional: Add border-radius for rounded corners */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Adjust the values for the shadow effect */
      }
</style> {% endcomment %}
<!-- Banner Area -->
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<link href="https://raw.githubusercontent.com/daneden/animate.css/master/animate.css" rel="stylesheet">

<div id="myCarousel" class="carousel slide carousel-fade" data-ride="carousel">
  <div class="carousel-inner">
    {% for ban in banner %}
      <div class="carousel-item {% if forloop.first %}active{% endif %} mt-3">
        <div class="mask flex-center mt-3" style="background-color:#b55c31;">
          <div class="container">
            <div class="row align-items-center">
              <div class="col-md-7 col-12 order-md-1 order-2">
                <h4>{{ban.title}}</h4>
                <p style="max-width:60%">{{ ban.subtitle }}</p>
                <a href="../products_details/{{ban.variant.id}}">BUY NOW</a>
              </div>
              <div class="col-md-5 col-12 order-md-2 order-1 mt-4">
                <img src="{{ban.image.url}}" class="mx-auto" alt="slide">
              </div>
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
  <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
<!-- Slide end -->
 


<!-- Start Why Choose Us Section -->
<div class="why-choose-section">
    <div class="container pr-0 pl-0 ">
        <div class="row justify-content-between mr-0 ml-0">
            <div class="col-lg-6">
                <h2 class="section-title">Why Choose Us</h2>
                <p class="text-black">Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate velit imperdiet dolor tempor tristique.</p>
                <div class="row my-5">
                    <div class="col-6 col-md-6">
                        <div class="feature">
                            <div class="icon">
                                <img src="{% static "assets_home/img/truck.svg" alt="Image" %}" class="imf-fluid">
                            </div>
                            <h3>Fast &amp; Free Shipping</h3>
                            <p class="text-black">Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate.</p>
                        </div>
                    </div>
                    <div class="col-6 col-md-6">
                        <div class="feature">
                            <div class="icon">
                                <img src="{% static "assets_home/img/bag.svg" alt="Image" %}" class="imf-fluid">
                            </div>
                            <h3>Easy to Shop</h3>
                            <p class="text-black">Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate.</p>
                        </div>
                    </div>

                    <div class="col-6 col-md-6">
                        <div class="feature">
                            <div class="icon">
                                <img src="{% static "assets_home/img/support.svg" %}" alt="Image" class="imf-fluid">
                            </div>
                            <h3>24/7 Support</h3>
                            <p class="text-black">Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate.</p>
                        </div>
                    </div>

                    <div class="col-6 col-md-6">
                        <div class="feature">
                            <div class="icon">
                                <img src="{% static "assets_home/img/return.svg" %}" alt="Image" class="imf-fluid">
                            </div>
                            <h3>Hassle Free Returns</h3>
                            <p class="text-black">Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate.</p>
                        </div>
                    </div>

                </div>
            </div>

            <div class="col-lg-4">
                <div class="img-wrap">
                    <img src="{% static "assets_home/img/pea.jpg" %}" alt="Image" class="img-fluid ">
                </div>
            </div>

        </div>
    </div>
</div>
<!-- End Why Choose Us Section -->

<!-- feature_part start-->

<section class="product_list section_padding">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-12">
                <div class="section_tittle text-center">
                    <h2>Featured <span>shop</span></h2>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="product_list_slider owl-carousel">
                    <div class="single_product_list_slider">
                        <div class="row align-items-center justify-content-between">
                            {% for var in homeVariant|slice:":8" %}
                            <div class="col-lg-3 col-sm-6 product_data">
                                <div class="single_product_item">
                                    <a href="../products_details/{{var.id}}"><img src="{{var.images.all.last.image.url}}" alt=""/></a>
                                    <div class="single_product_text">
                                        <div class="d-flex justify-content-between">
                                            <h4 class="ml-4">{{ var.product.products_name }}</h4>
                                            {% if var.discount > 0 %}
                                                <h4 class="mr-4"><span class="text-danger">{{ var.discount|floatformat:0 }}</span>% OFF</h4>
                                            {% endif %}
                                        </div>
                                        <p class="ml-4 text-black">Brand: {{ var.product.brand_id.name }}</p>
                                        <p class="ml-4 text-black">Color: {{ var.color }}</p1>

                                        {% if var.discount %}
                                        <h3 class="ml-4"><span style='font-size:20px;'>&#8377;</span>{{ var.discounted_price }}</h3>
                                        <h3 class="del ml-4"><span style='font-size:20px;'>&#8377;</span><strike>{{ var.price }}</strike></h3>
                                        {% else %}
                                        <h3 class="ml-4"><span style='font-size:20px;'>&#8377;</span>{{ var.discounted_price }}</h3>
                                        <h3 class="del ml-4 text-muted"><strike>Offer</strike></h3>
                                        {% endif %}



                                        {% csrf_token %}
                                        <input type="hidden" id="product-id" value="{{var.id}}" class="prod_id">
                                        {% if var.quantity > 0 %}
                                        <a class="add_cart"><button type="button" id="add_cart" class="btn border-0 text-danger fw-bolder">+ ADD TO CART</button><i class="ti-heart"></i></a>
                                        {% else %}
                                        <a> OUT OF STOCK<i class="ti-heart"></i></a>
                                        {% endif %}
                                      </div>
                                    </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- feature_part end-->

    <!-- upcoming_event part start-->

    <!-- awesome_shop start-->
    <section class="our_offer section_padding">
        <div class="container">
            <div class="row align-items-center justify-content-between">
                <div class="col-lg-6 col-md-6">
                    <div class="offer_img">
                        <img src="{% static "assets_home/img/drone.png" %}" alt="">
                    </div>
                </div>
                <div class="col-lg-6 col-md-6">
                    <div class="offer_text">
                        <h2>Weekly Sale on
                            60% Off All Products</h2>
                            <div class="container">
                                <div class="row justify-content-center">
                                    <div class="col-lg-6 col-md-8 col-sm-10">
                                        <div class="date_countdown text-center">
                                            <div id="timer" class="d-flex justify-content-center">
                                                <div id="days" class="date"></div>
                                                <div id="hours" class="date"></div>
                                                <div id="minutes" class="date"></div>
                                                <div id="seconds" class="date"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="enter email address"
                                aria-label="Recipient's username" aria-describedby="basic-addon2">
                            <div class="input-group-append">
                                <a href="#" class="input-group-text btn_2" id="basic-addon2">book now</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- awesome_shop part start-->

    {% comment %} <!-- product_list part start-->
    <section class="product_list best_seller section_padding">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-12">
                    <div class="section_tittle text-center">
                        <h2>Best Sellers <span>category</span></h2>
                    </div>
                </div>
            </div>
            <div class="row align-items-center justify-content-between">
                <div class="col-lg-12">
                    <div class="best_product_slider owl-carousel">
                        {% for var in homeVariant %}
                        <div class="single_product_item">
                            <a href="../products_details/{{var.id}}"><img src="{{var.images.all.last.image.url}}" alt="" /></a>
                            <div class="single_product_text">
                                <h4>{{var.product.category_id.name}}</h4>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- product_list part end--> {% endcomment %}

    <!-- Start Testimonial Slider -->
		<div class="testimonial-section">
			<div class="container">
				<div class="row">
					<div class="col-lg-7 mx-auto text-center">
						<h2 class="section-title">Testimonials</h2>
					</div>
				</div>

				<div class="row justify-content-center">
					<div class="col-lg-12">
						<div class="testimonial-slider-wrap text-center">

							<div class="testimonial-slider">
								
								<div class="item">
									<div class="row justify-content-center">
										<div class="col-lg-8 mx-auto">
											<div class="testimonial-block text-center">
												<blockquote class="mb-5 text-black">
													<p class="text-black">&ldquo;
                                                        Introducing Nijith, the visionary CEO and founder of UTG Hobby â€“ a company fueled by passion and backed by a decade of expertise in the field. With a relentless commitment to delivering excellence, Nijith and the UTG Hobby team are dedicated to providing top-notch products and services. Your trust and support are the driving forces behind our success. Thank you for choosing UTG Hobby. Keep shopping, and let the joy of your hobby flourish with us!&rdquo;</p>
												</blockquote>
												<div class="author-info">
													<div class="author-pic">
														<img src="{% static "assets_home/img/N.jpeg" %}" alt="DP" class="img-fluid">
													</div>
													<h3 class="font-weight-bold">Nijith</h3>
													<span class="position d-block mb-3">CEO, Co-Founder, UTG Hobby.</span>
												</div>
											</div>
										</div>
									</div>
								</div> 
								<!-- END item -->
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- End Testimonial Slider -->

    <!-- subscribe_area part start-->
    

    <section class="subscribe_area section_padding">
            <div class="row justify-content-center">
                <iframe width="50%" height="800" src="https://www.youtube.com/embed/FjmBzQF6ObA?autoplay=1&mute=1&showinfo=0" frameborder="0" allowfullscreen></iframe>
            </div>
    </section>
    

    <!--::subscribe_area part end::-->

    <!-- subscribe_area part start-->

    <!--::subscribe_area part end::-->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <script>
        $(document).ready(function () {
            $('.add_cart').click(function (e) {
                e.preventDefault();
    
                // Update this line to use the correct class selector
                var product_id = $(this).closest('.product_data').find('.prod_id').val();
    
                var token = $('input[name=csrfmiddlewaretoken]').val();
    
                $.ajax({
                    method: "POST",
                    url: "/addcart/",
                    data: {
                        'product_id': product_id,
                        csrfmiddlewaretoken: token
                    },
                    dataType: 'json',
                    success: function (response) {
                        console.log(response);
    
                        if (response.success) {
                            Swal.fire({
                                title: 'Item Added to Cart',
                                text: 'Your item has been added to the cart.',
                                icon: 'success',
                            });
                            $('#cart-count-badge').text(response.cart_count);
                        } else {
                            Swal.fire({
                                title: 'Error',
                                text: 'Already in cart',
                                icon: 'error',
                            });
                        }
                    },
                    error: function (xhr, status, error) {
                        console.log("Error:", error);
                    }
                });
            });
        });
    </script> 
<script>

    $('#myCarousel').carousel({
        interval: 3000,
     })
 
</script>

    {% endblock %}
