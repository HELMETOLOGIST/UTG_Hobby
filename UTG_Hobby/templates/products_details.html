{% extends "base.html" %}
{% load static %}
{% block title %}Product Details{% endblock %}
<style>
  /* Custom styles for carousel controls */
  .carousel-control-prev,
  .carousel-control-next {
      color: #000000; /* Change this to the desired color */
      font-size: 2rem; /* Adjust the font size as needed */
      top: 50%; /* Adjust the vertical position */
      transform: translateY(-50%); /* Center vertically */
  }

  .carousel-control-prev-icon,
  .carousel-control-next-icon {
      background-color: #000000; /* Change this to the desired background color */
      border: 1px solid #ffffff; /* Change this to the desired border color */
      border-radius: 5px; /* Adjust the border-radius as needed */
  }

  .carousel-control-prev,
  .carousel-control-next {
      width: 40px; /* Adjust the width as needed */
      height: 40px; /* Adjust the height as needed */
  }

  .carousel-control-prev:hover,
  .carousel-control-next:hover {
      color: #000000; /* Change this to the desired color on hover */
      background-color: #ffffff; /* Change this to the desired background color on hover */
  }
</style>
{% block content %}
  <!-- breadcrumb start-->
  <section class="breadcrumb breadcrumb_bg">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <div class="breadcrumb_iner">
            <div class="breadcrumb_iner_item">
              <h2 class='text-warning'>Product Details </h2>
              <p class='text-white'>Home <span>-</span> Product Details</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- breadcrumb start-->
  <!--================End Home Banner Area =================-->

<!--================Single Product Area =================-->

<div class="product_image_area section_padding">
  <div class="container product_data">
      <div class="row s_product_inner justify-content-around">
        <div class="col-lg-5 col-xl-5">
          <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
              <ol class="carousel-indicators">
                  {% for img in product.images.all %}
                      <li data-target="#carouselExampleIndicators" data-slide-to="{{ forloop.counter0 }}" {% if forloop.first %}class="active"{% endif %}></li>
                  {% endfor %}
              </ol>
              <div class="carousel-inner">
                  {% for img in product.images.all %}
                      <div class="carousel-item {% if forloop.first %}active{% endif %}">
                          <img class="d-block w-100" src="{{ img.image.url }}" alt="Slide {{ forloop.counter }}">
                      </div>
                  {% endfor %}
              </div>
              <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="sr-only">Next</span>
              </a>
          </div>
      </div>

          <div class="col-lg-5 col-xl-5">
              <div class="s_product_text">
                  <h3>{{ product.product.products_name }}</h3>
                  <h2>${{ product.price }}</h2>
                  <ul class="list">
                      <li>
                          <a href="#">
                              <span>Category</span> : {{ product.product.category_id.name }}
                          </a>
                      </li>
                      <li>
                          <a href="#">
                              <span>Brand</span> : {{ product.product.brand_id.name }}
                          </a>
                      </li>
                      <li>
                        {% if product.quantity > 0 %}
                          <a>
                              <span>Availability</span> : <span class="text-success">In Stock</span>
                          </a>
                          {% else %}
                          <a>
                            <span>Availability</span> : <span class="text-danger">Out of Stock</span>
                        </a>
                        {% endif %}


                      </li>
                      <li>
                          <h6 class="mt-3 mb-3">Colors:</h6>
                          <div class="d-flex f-row mt-3">
                              
                              <div class="color-images">
                                  {% for v in product.product.colorvarient_set.all %}
                                      <a href="../../products_details/{{v.id}}"  data-color-variant-id="{{ v.id }}"><img src="{{v.images.last.image.url}}" alt="{{v.color}}" class="color-thumbnail border-2 " height='70px'></a>
                                  {% endfor %}
                              
                              </div>
                          </div>
                      </li>
                  </ul>
                  <form method="POST">
                  {% csrf_token %}
                  <input type="hidden" id="product-id" value="{{product.id}}" class="prod_id">
                    <div class="card_area d-flex justify-content-between align-items-center">
                        {% if product.quantity > 0 %}
                        {% comment %} <button type="button" class="btn_3 button border-0 addcartBtn" id="" disabled>Add to Cart</button>
                        {% else %} {% endcomment %}
                        <button type="button" id="addcart" class="btn_3 button border-0">Add to Cart</button>
                        {% endif %}
                        <a href="#" class="like_us"> <i class="ti-heart"></i> </a>
                    </div>
                  </form>
              </div>
          </div>
      </div>
  </div>
</div>
<!--================End Single Product Area =================-->




  <!--================Product Description Area =================-->
  <section class="product_description_area">
    <div class="container">
      <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
          <a class="nav-link" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home"
            aria-selected="true">Description</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile"
            aria-selected="false">Specification</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact"
            aria-selected="false">Comments</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" id="review-tab" data-toggle="tab" href="#review" role="tab" aria-controls="review"
            aria-selected="false">Reviews</a>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade" id="home" role="tabpanel" aria-labelledby="home-tab">
          <p>
            {{ product.product.description }}
          </p>
        </div>
        <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
          <div class="table-responsive">
            <table class="table">
              <tbody>
                <tr>
                  <td>
                    <h5>Width</h5>
                  </td>
                  <td>
                    <h5>128mm</h5>
                  </td>
                </tr>
                <tr>
                  <td>
                    <h5>Height</h5>
                  </td>
                  <td>
                    <h5>508mm</h5>
                  </td>
                </tr>
                <tr>
                  <td>
                    <h5>Depth</h5>
                  </td>
                  <td>
                    <h5>85mm</h5>
                  </td>
                </tr>
                <tr>
                  <td>
                    <h5>Weight</h5>
                  </td>
                  <td>
                    <h5>52gm</h5>
                  </td>
                </tr>
                <tr>
                  <td>
                    <h5>Quality checking</h5>
                  </td>
                  <td>
                    <h5>yes</h5>
                  </td>
                </tr>
                <tr>
                  <td>
                    <h5>Freshness Duration</h5>
                  </td>
                  <td>
                    <h5>03days</h5>
                  </td>
                </tr>
                <tr>
                  <td>
                    <h5>When packeting</h5>
                  </td>
                  <td>
                    <h5>Without touch of hand</h5>
                  </td>
                </tr>
                <tr>
                  <td>
                    <h5>Each Box contains</h5>
                  </td>
                  <td>
                    <h5>60pcs</h5>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
          <div class="row">
            <div class="col-lg-6">
              <div class="comment_list">
              
                <div class="review_item">
                  <div class="media">
                    <div class="d-flex">
                      <img src="{% static "assets_products/img/product/single-product/review-3.png" %}" alt="" />
                    </div>
                    <div class="media-body">
                      <h4>Blake Ruiz</h4>
                      <h5>12th Feb, 2017 at 05:56 pm</h5>
                      <a class="reply_btn" href="#">Reply</a>
                    </div>
                  </div>
                  <p>
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit,
                    sed do eiusmod tempor incididunt ut labore et dolore magna
                    aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                    ullamco laboris nisi ut aliquip ex ea commodo
                  </p>
                </div>
              </div>
            </div>
            <div class="col-lg-6">
              <div class="review_box">
                <h4>Post a comment</h4>
                <form class="row contact_form" action="contact_process.php" method="post" id="contactForm"
                  novalidate="novalidate">
                  <div class="col-md-12">
                    <div class="form-group">
                      <input type="text" class="form-control" id="name" name="name" placeholder="Your Full name" />
                    </div>
                  </div>
                  <div class="col-md-12">
                    <div class="form-group">
                      <input type="email" class="form-control" id="email" name="email" placeholder="Email Address" />
                    </div>
                  </div>
                  <div class="col-md-12">
                    <div class="form-group">
                      <input type="text" class="form-control" id="number" name="number" placeholder="Phone Number" />
                    </div>
                  </div>
                  <div class="col-md-12">
                    <div class="form-group">
                      <textarea class="form-control" name="message" id="message" rows="1"
                        placeholder="Message"></textarea>
                    </div>
                  </div>
                  <div class="col-md-12 text-right">
                    <button type="submit" value="submit" class="btn_3">
                      Submit Now
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        <div class="tab-pane fade show active" id="review" role="tabpanel" aria-labelledby="review-tab">
          <div class="row">
            <div class="col-lg-6">
              <div class="row total_rate">
                <div class="col-6">
                  <div class="box_total">
                    <h5>Overall</h5>
                    <h4>4.0</h4>
                    <h6>(03 Reviews)</h6>
                  </div>
                </div>
                <div class="col-6">
                  <div class="rating_list">
                    <h3>Based on 3 Reviews</h3>
                    <ul class="list">
                      <li>
                        <a href="#">5 Star
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i> 01</a>
                      </li>
                      <li>
                        <a href="#">4 Star
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i> 01</a>
                      </li>
                      <li>
                        <a href="#">3 Star
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i> 01</a>
                      </li>
                      <li>
                        <a href="#">2 Star
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i> 01</a>
                      </li>
                      <li>
                        <a href="#">1 Star
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i>
                          <i class="fa fa-star"></i> 01</a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="review_list">
                
                <div class="review_item">
                  <div class="media">
                    <div class="d-flex">
                      <img src="{% static "assets_products/img/product/single-product/review-3.png" %}" alt="" />
                    </div>
                    <div class="media-body">
                      <h4>Blake Ruiz</h4>
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                    </div>
                  </div>
                  <p>
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit,
                    sed do eiusmod tempor incididunt ut labore et dolore magna
                    aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                    ullamco laboris nisi ut aliquip ex ea commodo
                  </p>
                </div>
              </div>
            </div>
            <div class="col-lg-6">
              <div class="review_box">
                <h4>Add a Review</h4>
                <p>Your Rating:</p>
                <ul class="list">
                  <li>
                    <a href="#">
                      <i class="fa fa-star"></i>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <i class="fa fa-star"></i>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <i class="fa fa-star"></i>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <i class="fa fa-star"></i>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <i class="fa fa-star"></i>
                    </a>
                  </li>
                </ul>
                <p>Outstanding</p>
                <form class="row contact_form" action="contact_process.php" method="post" novalidate="novalidate">
                  <div class="col-md-12">
                    <div class="form-group">
                      <input type="text" class="form-control" name="name" placeholder="Your Full name" />
                    </div>
                  </div>
                  <div class="col-md-12">
                    <div class="form-group">
                      <input type="email" class="form-control" name="email" placeholder="Email Address" />
                    </div>
                  </div>
                  <div class="col-md-12">
                    <div class="form-group">
                      <input type="text" class="form-control" name="number" placeholder="Phone Number" />
                    </div>
                  </div>
                  <div class="col-md-12">
                    <div class="form-group">
                      <textarea class="form-control" name="message" rows="1" placeholder="Review"></textarea>
                    </div>
                  </div>
                  <div class="col-md-12 text-right">
                    <button type="submit" value="submit" class="btn_3">
                      Submit Now
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!--================End Product Description Area =================-->

  <!-- product_list part start-->
  <section class="product_list best_seller">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-12">
          <div class="section_tittle text-center">
            <h2>Best Sellers <span>shop</span></h2>
          </div>
        </div>
      </div>
      <div class="row align-items-center justify-content-between">
        <div class="col-lg-12">
          <div class="best_product_slider owl-carousel">
            {% if product %}
              <div class="single_product_item">
                <a href="../products_details/{{product.id}}"><img src="{{product.images.allast.image.url}}" alt="" /></a>
                  <div class="single_product_text">
                    <h4>{{product.product.products_name}}</h4>
                  <h3>${{product.price}}</h3>
                </div>
              </div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- product_list part end-->
  <script src="{% static "assets_products/js/theme.js" %}"></script>
  <script src="{% static "assets_products/js/swiper.jquery.js" %}"></script>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
  <script>
  $(document).ready(function () {
    $('#addcart').click(function (e) {
        e.preventDefault();
        console.log('clicked');
        var product_id = $(this).closest('.product_data').find('.prod_id').val();
        var token = $('input[name=csrfmiddlewaretoken]').val();
        console.log('clicked');

        $.ajax({
            method: "POST",
            url: "/addcart/",
            data: {
                'product_id': product_id,
                csrfmiddlewaretoken: token
            },
            dataType: 'json',
            success: function (response) {
                console.log(response);

                if (response.success) {
                    Swal.fire({
                        title: 'Item Added to Cart',
                        text: 'Your item has been added to the cart.',
                        icon: 'success',
                    });
                    $('#cart-count-badge').text(response.cart_count);
                } else {
                    Swal.fire({
                        title: 'Error',
                        text: 'Already in cart',
                        icon: 'error',
                    });
                }
            },
            error: function (xhr, status, error) {
                console.log("Error:", error);
            }
        });
    });
});

</script>  



  
  {% endblock %}
